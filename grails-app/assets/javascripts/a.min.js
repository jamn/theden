$(document).ready(function(){$("#username").bind("keyup",function(){var a=$(this).val();$(this).val(a.replace(/\s+/g,""));});$(".recurringAppointmentAdminOptions").fadeOut();
$(".nav a").click(function(c){var b=$(this).attr("href");var a=$("body").attr("baseUrl");$.ajax({type:"POST",url:a+"/getSection",data:{section:b}}).done(function(d){$(".active").removeClass("active");
$('a[href="'+b+'"]').parent().addClass("active");$(".main").html(d);$(".navbar-toggle").click();});});$("#loginButton").click(function(c){var a=$("#username").val();
var b=$("#password").val();window.location.href="../access/login?u="+a+"&p="+b;});$("#password").keypress(function(c){var a=$("#username").val();var b=$("#password").val();
if(c.keyCode===13){window.location.href="../access/login?u="+a+"&p="+b;}});});function getTimeSlotOptions(){var a=$("#services").val();var c=$("#dateOfAppointment").val();
var b=$("body").attr("baseUrl");$.ajax({type:"POST",url:b+"/getTimeSlotOptions",data:{sId:a,aDate:c}}).done(function(d){if(d.indexOf("ERROR")>-1){$("#bookForClientButton").html("Error");
$("#bookForClientButton").addClass("errorButton animated fadeIn");}else{$("#timeSlots").html(d);$("#bookForClientButton").html("Book Appointment");$("#bookForClientButton").removeClass("errorButton animated fadeIn");
}});}function getTimeSlotOptionsForRescheduledAppointment(c){var a=$("#servicesForRescheduledAppointment-"+c).val();var d=$("#dateOfRescheduledAppointment-"+c).val();
var b=$("body").attr("baseUrl");$.ajax({type:"POST",url:b+"/getTimeSlotOptions",data:{sId:a,aDate:d}}).done(function(e){if(e.indexOf("ERROR")>-1){$("#timeSlotsForRescheduledAppointment-"+c).html("<option>No times available</option>");
}else{$("#timeSlotsForRescheduledAppointment-"+c).html(e);}});}$(document).on("click","#addClient",function(b){var a=$("body").attr("baseUrl");$.ajax({type:"POST",url:a+"/getClientDataForm"}).done(function(c){if(c.indexOf("ERROR")>-1){alert("Dang... you broke it.");
}else{$("#lastNameFilters").slideUp();$("#clientsDetailsSelector").slideUp();$("#clientDetails").slideUp();$("#addClient").fadeOut();$("#clientInfoForm").html(c).slideDown();
}});});$(document).on("click","#editClient",function(c){var a=$("#clientsDetailsSelector").val()[0];$("#clientsDetailsSelector").val()[0];var b=$("body").attr("baseUrl");
$.ajax({type:"POST",url:b+"/getClientDataForm",data:{cId:a}}).done(function(d){if(d.indexOf("ERROR")>-1){alert("Dang... you broke it.");}else{$("#lastNameFilters").slideUp();
$("#clientsDetailsSelector").slideUp();$("#clientDetails").slideUp();$("#addClient").fadeOut();$("#clientInfoForm").html(d).slideDown();}});});$(document).on("click",".last-name-filter",function(b){var a=$(b.currentTarget).attr("value");
$("#clientsDetailsSelector").slideDown();if(a==="Reset"){$("#clientsDetailsSelector").children("optgroup").fadeIn();$(".reset-search").fadeOut();}else{$(".reset-search").fadeIn();
$("#clientsDetailsSelector").children("optgroup").fadeOut();$("#clientsDetailsSelector").children("optgroup[label='"+a+"']").fadeIn();}});$(document).on("click","#saveClientButton",function(c){var d=$("#e").val();
var a=$("#e2").val();var h=$("#p").val();var g=$("#f").val();var i=$("#l").val();var j=$("#ph").val();var f=$("#cId").val();if(d&&h&&g&&i){$("#saveClientButton .label").hide();
$("#saveClientButton .spinner").show();var b=$("body").attr("baseUrl");$.ajax({type:"POST",url:b+"/saveClient",data:{e:d,hp:a,p:h,f:g,l:i,ph:j,cId:f}}).done(function(e){var k=e.search('"success":false');
if(k===-1){hideClientRegistrationForm();alert("User saved!");}});}});$(document).on("click","#cancelClientRegistrationButton",function(a){hideClientRegistrationForm();
});function hideClientRegistrationForm(){$("#clientInfoForm").slideUp();$("#clientsDetailsSelector").slideDown();$("#lastNameFilters").slideDown();$("#clientDetails").slideDown();
$("#addClient").fadeIn();}$(document).on("click",".cancel-appointment-link",function(b){var d=$(this).attr("c");var a=$("body").attr("baseUrl");$.ajax({type:"POST",url:a+"/cancelAppointment",data:{c:d}}).done(function(c){var e=c.search('"success":false');
if(e===-1){alert("You did it, appoiment deleted!");location.reload();}else{alert("That didn't work. Dang.");}});});$(document).on("change","#clientsDetailsSelector",function(){$(this).slideUp();
$(".reset-search").fadeIn();var a=$(this).val()[0];var b=$("body").attr("baseUrl");$.ajax({type:"POST",url:b+"/getClientDetails",data:{cId:a}}).done(function(c){var d=c.search('"success":false');
if(d===-1){$("#clientDetails").html(c).fadeIn();}});});$(document).on("click","#saveTextButton",function(c){var b=$("#homepageText").val();var a=$("body").attr("baseUrl");
$.ajax({type:"POST",url:a+"/saveHomepageMessage",data:{m:b}});});$(document).on("click","#saveClientNotesButton",function(c){var a=encodeURIComponent($("#clientNotes").val());
var b=$("body").attr("baseUrl");$.ajax({type:"POST",url:b+"/saveClientNotes",data:{n:a}});});$(document).on("click","#blockOffTimeButton",function(d){var a=$("#chooseDateToBlockOff").val();
var j=$("#fromHour").val();var g=$("#fromMinute").val();var k=$("#fromMorningOrAfternoon").val();var f=$("#toHour").val();var l=$("#toMinute").val();var b=$("#toMorningOrAfternoon").val();
var i=j+":"+g+k;var h=f+":"+l+b;$("#blockOffTimeButton").html($("#waitingSpinner").html());var c=$("body").attr("baseUrl");$.ajax({type:"POST",url:c+"/blockOffTime",data:{date:a,from:i,to:h}}).done(function(e){var m=JSON.parse(e);
if(m.success===true){$("#blockOffTimeButton").html("Success");$("#blockOffTimeButton").removeClass("errorButton animated fadeIn");}else{$("#blockOffTimeButton").html("Error");
$("#blockOffTimeButton").addClass("errorButton animated fadeIn");}});});$(document).on("click","#blockOffDaysButton",function(b){var d=$("#fromWholeDay").val();
var c=$("#toWholeDay").val();$("#blockOffDaysButton").html($("#waitingSpinner").html());var a=$("body").attr("baseUrl");$.ajax({type:"POST",url:a+"/blockOffWholeDay",data:{from:d,to:c}}).done(function(e){var f=JSON.parse(e);
if(f.success===true){$("#blockOffDaysButton").html("Success");$("#blockOffDaysButton").removeClass("errorButton animated fadeIn");}else{$("#blockOffDaysButton").html("Error");
$("#blockOffDaysButton").addClass("errorButton animated fadeIn");}});});$(document).on("click","#recurringAppointment",function(){if($(this).is(":checked")){$(".recurringAppointmentAdminOptions").fadeIn();
}else{$(".recurringAppointmentAdminOptions").fadeOut();}});$(document).on("change","#services",function(){getTimeSlotOptions();});$(document).on("change","#dateOfAppointment",function(){getTimeSlotOptions();
});$(document).on("click",".appointment-data",function(b){$(".edit-appointment").slideUp();var c=b.currentTarget.id;var a=$("body").attr("baseUrl");$.ajax({type:"POST",url:a+"/getRescheduleOptions",data:{aId:c}}).done(function(d){if(d.indexOf("ERROR")===-1){$("#edit-appointment-options-"+c).html(d);
$("#dateOfRescheduledAppointment-"+c).datepicker({minDate:0});$("#dateOfRescheduledAppointment-"+c).datepicker("setDate",new Date());$("#servicesForRescheduledAppointment-"+c).on("change",function(){getTimeSlotOptionsForRescheduledAppointment(c);
});$("#dateOfRescheduledAppointment-"+c).on("change",function(){getTimeSlotOptionsForRescheduledAppointment(c);});$("#rescheduleButton-"+c).on("click",function(){var f=$("#servicesForRescheduledAppointment-"+c).val();
var g=$("#dateOfRescheduledAppointment-"+c).val();var e=$("#timeSlotsForRescheduledAppointment-"+c).val();$(".spinner-"+c).fadeIn();$.ajax({type:"POST",url:a+"/rescheduleAppointment",data:{aId:c,sId:f,aDate:g,sTime:e}}).done(function(h){var i=JSON.parse(h);
if(i.success===true){$("#rescheduleButton-"+c).html("Success");$("#rescheduleButton-"+c).removeClass("errorButton animated fadeIn");setTimeout(function(){window.location.href="./";
},1250);}else{$("#rescheduleButton-"+c).html("Error");$("#rescheduleButton-"+c).addClass("errorButton animated fadeIn");}});});}});$(".edit-appointment-"+c).slideDown();
});