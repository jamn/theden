function getTimeSlotOptionsForRescheduledAppointment(e){var t=$("#servicesForRescheduledAppointment-"+e).val();var n=$("#dateOfRescheduledAppointment-"+e).val();$.ajax({type:"POST",url:"./getTimeSlotOptions",data:{sId:t,aDate:n}}).done(function(t){if(t.indexOf("ERROR")>-1){$("#timeSlotsForRescheduledAppointment-"+e).html("<option>No times available</option>")}else{$("#timeSlotsForRescheduledAppointment-"+e).html(t)}})}$(document).ready(function(){function e(){var e=$("#services").val();var t=$("#dateOfAppointment").val();$.ajax({type:"POST",url:"./getTimeSlotOptions",data:{sId:e,aDate:t}}).done(function(e){if(e.indexOf("ERROR")>-1){$("#bookForClientButton").html("Error");$("#bookForClientButton").addClass("errorButton animated fadeIn")}else{$("#timeSlots").html(e);$("#bookForClientButton").html("Book Appointment");$("#bookForClientButton").removeClass("errorButton animated fadeIn")}})}$(".recurringAppointmentAdminOptions").fadeOut();console.log("here");$("#logout").click(function(e){console.log("logging out");window.location.href="../access/logout"});$("#loginButton").click(function(e){var t=$("#username").val();var n=$("#password").val();window.location.href="../access/login?u="+t+"&p="+n});$("#saveTextButton").click(function(e){console.log("saveTextButton clicked!");var t=$("#homepageText").val();$.ajax({type:"POST",url:"./saveHomepageMessage",data:{m:t}}).done(function(e){var t=e.search('"success":false');if(t===-1){console.log("success:true")}else{console.log("success:false")}})});$("#password").keypress(function(e){var t=$("#username").val();var n=$("#password").val();if(e.keyCode===13){window.location.href="../access/login?u="+t+"&p="+n}});$("#chooseDateToBlockOff").datepicker({minDate:0});$("#fromWholeDay").datepicker({minDate:0});$("#toWholeDay").datepicker({minDate:0});$("#dateOfAppointment").datepicker({minDate:0});$("#dateOfAppointment").datepicker("setDate",new Date);$("#blockOffTimeButton").click(function(e){var t=$("#chooseDateToBlockOff").val();var n=$("#fromHour").val();var r=$("#fromMinute").val();var i=$("#fromMorningOrAfternoon").val();var s=$("#toHour").val();var o=$("#toMinute").val();var u=$("#toMorningOrAfternoon").val();var a=n+":"+r+i;var f=s+":"+o+u;$("#blockOffTimeButton").html($("#waitingSpinner").html());$.ajax({type:"POST",url:"./blockOffTime",data:{date:t,from:a,to:f}}).done(function(e){var t=JSON.parse(e);if(t.success===true){console.log("success:true");$("#blockOffTimeButton").html("Success");$("#blockOffTimeButton").removeClass("errorButton animated fadeIn")}else{console.log("success:false");$("#blockOffTimeButton").html("Error");$("#blockOffTimeButton").addClass("errorButton animated fadeIn")}})});$("#blockOffDaysButton").click(function(e){var t=$("#fromWholeDay").val();var n=$("#toWholeDay").val();$("#blockOffDaysButton").html($("#waitingSpinner").html());$.ajax({type:"POST",url:"./blockOffWholeDay",data:{from:t,to:n}}).done(function(e){var t=JSON.parse(e);if(t.success===true){console.log("success:true");$("#blockOffDaysButton").html("Success");$("#blockOffDaysButton").removeClass("errorButton animated fadeIn")}else{console.log("success:false");$("#blockOffDaysButton").html("Error");$("#blockOffDaysButton").addClass("errorButton animated fadeIn")}})});$("#recurringAppointment").click(function(){if($(this).is(":checked")){$(".recurringAppointmentAdminOptions").fadeIn()}else{$(".recurringAppointmentAdminOptions").fadeOut()}});$("#bookForClientButton").confirmOn({classPrepend:"confirmon",questionText:"Book for client?",textYes:"Yes",textNo:"No"},"click",function(e,t){if(t){var n=$("#clients").val();var r=$("#services").val();var i=$("#dateOfAppointment").val();var s=$("#timeSlots").val();var o=$("#recurringAppointment").is(":checked");var u=$("#repeatDuration").val();var a=$("#repeatNumberOfAppointments").val();$("#bookForClientButton").html($("#waitingSpinner").html());$.ajax({type:"POST",url:"./bookForClient",data:{cId:n,sId:r,aDate:i,sTime:s,r:o,dur:u,num:a}}).done(function(e){var t=JSON.parse(e);if(t.success===true){$("#bookForClientButton").html("Success");$("#bookForClientButton").removeClass("errorButton animated fadeIn")}else{$("#bookForClientButton").html("Error");$("#bookForClientButton").addClass("errorButton animated fadeIn")}})}});$("#services").on("change",function(){e()});$("#dateOfAppointment").on("change",function(){e()});$(".appointment-data").click(function(e){$(".edit-appointment").slideUp();var t=e.currentTarget.id;$.ajax({type:"POST",url:"./getRescheduleOptions",data:{aId:t}}).done(function(e){if(e.indexOf("ERROR")===-1){$("#edit-appointment-options-"+t).html(e);$("#dateOfRescheduledAppointment-"+t).datepicker({minDate:0});$("#dateOfRescheduledAppointment-"+t).datepicker("setDate",new Date);$("#servicesForRescheduledAppointment-"+t).on("change",function(){getTimeSlotOptionsForRescheduledAppointment(t)});$("#dateOfRescheduledAppointment-"+t).on("change",function(){getTimeSlotOptionsForRescheduledAppointment(t)});$("#rescheduleButton-"+t).on("click",function(){var e=$("#servicesForRescheduledAppointment-"+t).val();var n=$("#dateOfRescheduledAppointment-"+t).val();var r=$("#timeSlotsForRescheduledAppointment-"+t).val();$(".spinner-"+t).fadeIn();$.ajax({type:"POST",url:"./rescheduleAppointment",data:{aId:t,sId:e,aDate:n,sTime:r}}).done(function(e){var n=JSON.parse(e);if(n.success===true){$("#rescheduleButton-"+t).html("Success");$("#rescheduleButton-"+t).removeClass("errorButton animated fadeIn");setTimeout(function(){window.location.href="./"},1250)}else{$("#rescheduleButton-"+t).html("Error");$("#rescheduleButton-"+t).addClass("errorButton animated fadeIn")}})})}});$(".edit-appointment-"+t).slideDown()});$("#fourteenDayViewLink").click(function(e){var t=$("#fourteenDayViewLink").html();if(t==="14 day view"){$("#fourteenDayView-week1").slideDown();$("#fourteenDayView-week2").slideDown();$("#fourteenDayViewLink").html("Hide 14 day view")}else{$("#fourteenDayView-week1").slideUp();$("#fourteenDayView-week2").slideUp();$("#fourteenDayViewLink").html("14 day view")}})})