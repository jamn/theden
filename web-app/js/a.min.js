$(document).ready(function(){function e(){var e=$("#clients").val();var t=$("#services").val();var n=$("#dateOfAppointment").val();$.ajax({type:"POST",url:"./getTimeSlotOptions",data:{cId:e,sId:t,aDate:n}}).done(function(e){if(e.indexOf("ERROR")>-1){$("#bookForClientButton").html("Error");$("#bookForClientButton").addClass("errorButton animated fadeIn")}else{$("#timeSlots").html(e);$("#bookForClientButton").html("Book Appointment");$("#bookForClientButton").removeClass("errorButton animated fadeIn")}})}$("#logout").click(function(e){console.log("logging out");window.location.href="../access/logout"});$("#loginButton").click(function(e){var t=$("#username").val();var n=$("#password").val();window.location.href="../access/login?u="+t+"&p="+n});$("#saveTextButton").click(function(e){console.log("saveTextButton clicked!");var t=$("#homepageText").val();$.ajax({type:"POST",url:"./saveHomepageMessage",data:{m:t}}).done(function(e){var t=e.search('"success":false');if(t===-1){console.log("success:true")}else{console.log("success:false")}})});$("#password").keypress(function(e){var t=$("#username").val();var n=$("#password").val();if(e.keyCode===13){window.location.href="../access/login?u="+t+"&p="+n}});$("#chooseDateToBlockOff").datepicker({minDate:0});$("#fromWholeDay").datepicker({minDate:0});$("#toWholeDay").datepicker({minDate:0});$("#dateOfAppointment").datepicker({minDate:0});$("#dateOfAppointment").datepicker("setDate",new Date);$("#blockOffTimeButton").click(function(e){var t=$("#chooseDateToBlockOff").val();var n=$("#fromHour").val();var r=$("#fromMinute").val();var i=$("#fromMorningOrAfternoon").val();var s=$("#toHour").val();var o=$("#toMinute").val();var u=$("#toMorningOrAfternoon").val();var a=n+":"+r+i;var f=s+":"+o+u;$("#blockOffTimeButton").html($("#waitingSpinner").html());$.ajax({type:"POST",url:"./blockOffTime",data:{date:t,from:a,to:f}}).done(function(e){var t=JSON.parse(e);if(t.success===true){console.log("success:true");$("#blockOffTimeButton").html("Success");$("#blockOffTimeButton").removeClass("errorButton animated fadeIn")}else{console.log("success:false");$("#blockOffTimeButton").html("Error");$("#blockOffTimeButton").addClass("errorButton animated fadeIn")}})});$("#blockOffDaysButton").click(function(e){var t=$("#fromWholeDay").val();var n=$("#toWholeDay").val();$("#blockOffDaysButton").html($("#waitingSpinner").html());$.ajax({type:"POST",url:"./blockOffWholeDay",data:{from:t,to:n}}).done(function(e){var t=JSON.parse(e);if(t.success===true){console.log("success:true");$("#blockOffDaysButton").html("Success");$("#blockOffDaysButton").removeClass("errorButton animated fadeIn")}else{console.log("success:false");$("#blockOffDaysButton").html("Error");$("#blockOffDaysButton").addClass("errorButton animated fadeIn")}})});$("#bookForClientButton").click(function(e){var t=$("#clients").val();var n=$("#services").val();var r=$("#dateOfAppointment").val();var i=$("#timeSlots").val();$("#bookForClientButton").html($("#waitingSpinner").html());$.ajax({type:"POST",url:"./bookForClient",data:{cId:t,sId:n,aDate:r,sTime:i}}).done(function(e){var t=JSON.parse(e);if(t.success===true){$("#bookForClientButton").html("Success");$("#bookForClientButton").removeClass("errorButton animated fadeIn")}else{$("#bookForClientButton").html("Error");$("#bookForClientButton").addClass("errorButton animated fadeIn")}})});$("#services").on("change",function(){e()});$("#dateOfAppointment").on("change",function(){e()});$("#fourteenDayViewLink").click(function(e){var t=$("#fourteenDayViewLink").html();if(t==="14 day view"){$("#fourteenDayView-week1").fadeIn();$("#fourteenDayView-week2").fadeIn();$("#fourteenDayViewLink").html("Hide 14 day view")}else{$("#fourteenDayView-week1").fadeOut();$("#fourteenDayView-week2").fadeOut();$("#fourteenDayViewLink").html("14 day view")}});$(".appointment-data").click(function(e){$(".edit-appointment").fadeOut();$(".edit-appointment-"+e.currentTarget.id).fadeIn()})})